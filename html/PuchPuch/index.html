<!doctype html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Canvas Dance</title>
  </head>
<body>
  <section>
    <div>
        <canvas id="canvas" width="500" height="281">
         This text is displayed if your browser 
         does not support HTML5 Canvas.
	<img src="img/image1.jpg">
        </canvas>
    <audio preload="auto" autobuffer autoplay="autoplay" loop="loop">
  <source src="out.ogg" type='audio/ogg; codecs=vorbis'>
  <source src="sound27.mp3" type="audio/mpeg"/>
</audio>
    </div>

<script type="text/javascript">
var canvas;  
var ctx;
var audioElement;
var WIDTH = 500;
var HEIGHT = 281; 
var img_index=0;
var images = [];
var IMAGE_URL = [
    'img/image1.jpg',
    'img/image3.jpg',
    'img/image5.jpg',
    'img/image7.jpg',
    'img/image9.jpg',
    'img/image11.jpg',
    'img/image13.jpg',
    'img/image15.jpg',
    'img/image17.jpg',
    'img/image19.jpg',
    'img/image21.jpg',
    'img/image23.jpg',
    'img/image25.jpg'
    
];
var IMAGE_NUM = IMAGE_URL.length;
    
    
function clear() {
  ctx.clearRect(0, 0, WIDTH, HEIGHT);
}

    
function loadImage(url) {
    var image = new Image();
    image.src = url + '?' + new Date().getTime();
    return image;
}
    
function init() {
  canvas = document.getElementById("canvas");
  audioElement = document.getElementById('audio');
  ctx = canvas.getContext("2d");
  for (var i = 0; i < IMAGE_NUM; i++) {
        images[i] = loadImage(IMAGE_URL[i]);
  }
  return setInterval(draw, 50);
}


function draw() {
  clear();
  WIDTH= window.innerWidth;
  HEIGHT =window.innerHeight;
  ctx.canvas.width  = WIDTH;
  ctx.canvas.height = HEIGHT;
ctx.scale(WIDTH/500, WIDTH/500);
  ctx.drawImage(images[img_index],0,0);
  img_index++;
  if(img_index==IMAGE_NUM)
      img_index=0;
 
}

init();
audioElement.currentTime = 0;
audioElement.play();
window.onload = (event) => {
  document.querySelector('audio').play();
};
	
</script>

  </section>
</body>
</html
