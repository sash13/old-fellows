<!DOCTYPE html>
<html>
<head>
  <meta http-equiv="content-type" content="text/html; charset=UTF-8">
  <title>demo</title>
  
  <script type='text/javascript' src="jquery-1.8.0.js"></script>
  <script type="text/javascript" src="Stuk-jszip-ad1627a/jszip.js"></script>
  <script type="text/javascript" src="Stuk-jszip-ad1627a/jszip-deflate.js"></script>

    <style type="text/css">
     .thumb img {
     margin-right: 10px;
     margin-bottom: 10px;
     }
    </style>
  


<script type='text/javascript'>
var zip = new JSZip(),
    folder = zip.folder("images"),
    url = 'http://ajax.googleapis.com/ajax/services/search/images?v=1.0',
    images = [],
    counts =0;

function getMore (url_in) {
  $.getJSON("http://ajax.googleapis.com/ajax/services/search/images?v=1.0&callback=?",
    {
     q: "test",
      start: counts
   },
   function(data) {
     $.each(data['responseData'].results, function(i,item){
       $("<img/>").attr("src", item.tbUrl).appendTo("#images");
       images[images.length] = [item.tbUrl,item.url];
     });
   });
  counts+=4;
}

function loadImage(url_in) {
  $.ajax( url_in, 
    {
        success: function(data){
            arr = url_in.split('/');
            file_name = arr[arr.length-1];
            alert(file_name);
            folder.file(file_name, data, {base64: true});
        }
    } 
  );
}

function getZip () {
  $.each(images, function(i,item) {
       loadImage(item[1]);
  });
  var content = zip.generate();
  location.href="data:application/zip;base64,"+content;
}
</script>


</head>
<body>
  <input type="button" value="СКОЧАТЬ БЕЗ СМС" onclick="getZip()" />

  <p class="thumb" id ="images">

  </p>
  <input type="text" id="fname"  />
  <input type="button" value="Еще" onclick="getMore(url)" />
  
</body>


</html>

